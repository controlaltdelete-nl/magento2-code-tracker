<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/** @var \Magento\Vault\Block\Customer\CreditCards $block */
/** @var \Magento\Framework\Escaper $escaper */

$tokens = $block->getPaymentTokens();
?>

<div data-bind="scope: 'messages'">
    <!-- ko template: getTemplate() --><!-- /ko -->
</div>

<?php if (count($tokens) !== 0): ?>
    <div class="table-wrapper my-credit-cards">
        <table class="data table table-credit-cards" id="my-orders-table">
            <caption class="table-caption"><?= $escaper->escapeHtml(__('Stored Payment Methods')) ?></caption>
            <thead>
            <tr>
                <th scope="col" class="col card-number"><?= $escaper->escapeHtml(__('Card Number')) ?></th>
                <th scope="col" class="col expire"><?= $escaper->escapeHtml(__('Expiration Date')) ?></th>
                <th scope="col" class="col card-type"><?= $escaper->escapeHtml(__('Type')) ?></th>
                <th scope="col" class="col card-description"><?= $escaper->escapeHtml(__('Description')) ?></th>
                <th scope="col" class="col actions">&nbsp;</th>
            </tr>
            </thead>
            <tbody>
            <?php
            foreach ($tokens as $token) {
                echo $block->renderTokenHtml($token);
            }
            ?>
            </tbody>
        </table>
    </div>

<?php elseif (!$block->isExistsCustomerTokens()): ?>
    <div class="message info empty"><span><?= $escaper->escapeHtml(__('You have no stored payment methods.')) ?></span></div>
<?php endif ?>
